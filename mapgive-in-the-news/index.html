---
layout: default
title: MapGive in the News 
twitterDescription: "MapGive in the News"
ogDescription: "MapGive's Imagery to the Crowd Services help make remote
mapping possible for online volunteers around the world. Learn more about
Imagery to the Crowd, open mapping, and how to get involved on the MapGive
website."
emailSubject: "Mapgive, an initiative of the U.S. State Department's Humanitarian Information Unit, makes it easy for new volunteers to learn to map and get involved with online tasks. MapGive also
works to connect humanitarian mapping projects with high resolution satellite imagery to make remote volunteer mapping possible. Read more on the MapGive website."
emailDescription: "HIU through ITTC publishes high-resolution commercial satellite imagery services for humanitarian response."
---

<div class="col-md-12">


<div class="row">
  <div class="col-md-8">
    <header role="header">
      <h1 class="page-title">{{ page.title }}</h1>
    </header>
  </div>
  <div class="col-md-offset-1 col-md-3">
    {% include social-media.html %}
  </div>
</div>


  <div class="row">
    <div class="col-md-9">

      <div class="row">
      {% assign sorted_pages = (site.categories.news | reversed sort: 'date') %}
        {% for post in sorted_pages %}
          {% assign display = null %}
          {% assign ready = null %}
          {% if post.featured == true %}{% assign display = true %}{% endif %}
          {% if display == true %}

          {% capture thecycle %}{% cycle 'odd', 'even' %}{% endcapture %}
  
            {% if thecycle == 'even' %}
              <div class="row">
            {% endif %}

            <div class="col-sm-5 news-thumbnail">

              {% if post.video != nil %}
                <iframe width="300" height="169" src="{{ post.video }}" frameborder="0" allowfullscreen></iframe>
              {% else %}
                <a href="{{ post.external_url }}" class="image">
                  <img src="{{ post.photo }} " alt="{{ post.title }}" class="img-responsive shadowed" />
                </a>
              {% endif %}
              <div class="caption">
                <h3><a href="{{ post.external_url }}">{{ post.title }}</a></h3>
                <p><strong>publication</strong>: {{ post.publication }}</p>
                <p><strong>date</strong>: {{ post.date | date: '%B %d, %Y' }}</p>
              </div>
            </div>

            {% if thecycle == 'even' %}
              </div>
            {% endif %}

          {% endif %}
        {% endfor %}
      </div>

      <!--<h1 class="page-title">Additional MapGive News</h1>-->

<!--Jekyll doesn't count, round-about way: https://ecommerce.shopify.com/c/shopify-discussion/t/easy-one-liquid-integer-variables-31824-->

<!--
{% assign count = '' %}

{% assign sorted_pages = (site.categories.news%}
  {% for post in sorted_pages %}
    {% if post.featured == false %}
      {% capture increment %}{{ count }}*{% endcapture %}
  {% assign count = increment %}
{% endif %}
{% endfor %}

{% assign an_integer = increment.size %}
<h1>We have {{ an_integer }} items.</h1>

{% assign offset = 0 %}
-->

<!-- Don't need this anymore news.json builds a json feed
      <div class='limiter pad4y clearfix'>
      {% assign sorted_pages = (site.categories.news | reversed sort: 'date') %}
      {% for post in sorted_pages %}
        {% if post.featured == false %}
          <div class='keyline-all pad4 space-bottom4 project-tile'>
            <h2><a href="{{ post.external_url }}">{{ post.title }}</a></h2>
            <h3>{{ post.publication }}</h3>
            <p>{{ post.date | date: '%B %d, %Y' }}</p>
          </div>
        {% endif %}
      {% endfor %}
      </div>
-->
      <h1>We have <span class="post-list" data-count> </span> items.</h1>
      
      <div class="pager">
        <li class="previous">
          <a href="#">&larr; Older</a>
        </li>
        <li class="next">
          <a href="#">Newer &rarr;</a>
        </li>
      </div>

      <div class="post-list" data-search-results>
      </div>

      <!-- aka result template-->
      <script type="text/x-template" id="search-result">


          <div class='keyline-all pad4 space-bottom4 project-tile'>
              <h3><a href="##external_url##">##title##</a></h3>
              <h4>##publication##</h4>
              <p>##date##</p>
          </div>
      </script>

      <script type="text/x-template" id="count-result">
          <h1>We have ##count## items.</h1>
      </script>

      <script>

            var q, jsonFeedUrl = "{{ site.baseurl }}/mapgive-in-the-news/news.json",
                $resultTemplate = $("#search-result"),
                $countTemplate = $("#count-result"),
                $resultsPlaceholder = $("[data-search-results]");
                $countPlaceholder = $("[data-count]");

            $(document).ready( function() {
                // initiate search functionality
                $.get(jsonFeedUrl, processData(), 'json');
                
            });


            function populateResultContent(html, item) {
                html = injectContent(html, item.title, '##title##');
                html = injectContent(html, item.publication, '##publication##');
                html = injectContent(html, item.author, '##author##');
                html = injectContent(html, item.external_url, '##external_url##');
                html = injectContent(html, item.date, '##date##');
                //html = injectContent(html, populateTags(item.tags), '##Tags##');
                //console.log(html)
                return html;
            }

            function processData() {
                  $results = [];
                  
                  console.log('hi')
                  console.log(jsonFeedUrl)

                  return function(jsonFeedUrl) {
                      
                      var resultsCount = 0,
                          results = "";

                      $.each(jsonFeedUrl, function(index, item) {

                          // http://stackoverflow.com/questions/8072774/difficulty-converting-an-array-of-strings-tolowercase-and-adding-to-my-function
                          //var tmp = item.tags.join('~').toLowerCase()
                          //var lcArray = tmp.split('~')

                          // check if search term is in content or title or tags!
                          /*
                          if (item.excerpt.toLowerCase().indexOf(q.toLowerCase()) > -1 || item.title.toLowerCase().indexOf(q.toLowerCase()) > -1 || lcArray.indexOf(q.toLowerCase()) > -1) {
                              var result = populateResultContent($resultTemplate.html(), item);
                              resultsCount++;
                              results += result;
                          }*/

                          //console.log(item.name)

                          //builds result template using variables extracted from news json

                          //only displayed news articles that are not featured
                          if (item.featured == 'false') {
                            var result = populateResultContent($resultTemplate.html(), item);
                            resultsCount++;
                            results += result;
                          }
                          
                      });

                      console.log(results)

                      //populateResultsString(resultsCount);
                      showSearchResults(results, resultsCount);
                  }
              };

              /**
               * Add search results to placeholder
               * @param {String} results
               * @return null
               */
              function showSearchResults(results, resultsCount) {
                  // Add results HTML to placeholder
                  $resultsPlaceholder.html(results);
                  $countPlaceholder.html(resultsCount);
              }

              /**
               * Injects content into template using placeholder
               * @param {String} originalContent
               * @param {String} injection
               * @param {String} placeholder 
               * @return {String} injected content
               */
              function injectContent(originalContent, injection, placeholder) {
                  var regex = new RegExp(placeholder, 'g');
                  return originalContent.replace(regex, injection);
              }

      </script>

    </div>

    <div class="col-md-3" >
    {% include more-info.html %}

    </div>

  </div>

</div>





